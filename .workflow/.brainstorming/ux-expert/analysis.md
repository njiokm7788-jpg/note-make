# 抽屉式上传区 + 侧边栏设置 交互规格文档

## 概述

本文档详细定义"抽屉式上传区 + 侧边栏设置"布局方案的完整交互规格，涵盖所有状态、动画、响应式适配和边界情况处理。

**目标布局**:
```
+------------------------------------------+
| Header                                   |
+------------------------------------------+
| [原图] [标注] [更换]                      |  <- 紧凑上传状态条
+------+-----------------------------------+
| 设置 |                                   |
| 面板 |        预览区（最大化）           |
| 280px|                                   |
|      |        [结果图]                   |
| 预设 |                                   |
| 高级 |   [查看对比]  [下载结果]          |
| 下载 |                                   |
+------+-----------------------------------+
```

---

## 目录

1. @analysis-upload-status-bar.md - 上传状态条交互
2. @analysis-upload-drawer.md - 上传抽屉交互
3. @analysis-sidebar.md - 侧边栏交互
4. @analysis-preview-area.md - 预览区与快捷操作
5. @analysis-responsive-edge-cases.md - 响应式适配与边界情况

---

## 设计原则

### 核心理念
- **渐进式披露**: 默认展示最简状态，按需展开详细内容
- **空间最大化**: 预览区占据主要视觉空间，设置区紧凑高效
- **即时反馈**: 所有操作提供清晰的视觉/状态反馈
- **容错设计**: 边界情况提供友好提示和恢复路径

### 交互层级
1. **L0 - 状态条**: 始终可见，展示当前上传状态
2. **L1 - 抽屉层**: 按需展开，覆盖主内容区
3. **L2 - 模态层**: 图片放大、错误提示等全屏交互

---

## 快速参考

### 状态机概览

```
上传状态: empty -> partial -> complete
抽屉状态: collapsed -> expanded
侧边栏: expanded <-> collapsed (响应式自动)
预览视图: simple <-> comparison
```

### 快捷键汇总

| 快捷键 | 功能 | 条件 |
|--------|------|------|
| Ctrl+V | 智能粘贴图片 | 单张模式 |
| Escape | 关闭抽屉/模态框 | 有打开的层 |
| Space | 切换预览视图 | 有预览结果 |
| Ctrl+S | 下载结果 | 有预览结果 |
| Ctrl+Z | 撤销上传 | 有已上传图片 |

### 动画时长规范

| 动画类型 | 时长 | 缓动函数 |
|----------|------|----------|
| 抽屉展开/收起 | 300ms | ease-out |
| 遮罩淡入/淡出 | 200ms | ease |
| 状态条切换 | 200ms | ease-in-out |
| 侧边栏折叠 | 250ms | ease-out |
| Toast 出现 | 150ms | ease-out |
| Toast 消失 | 200ms | ease-in |
